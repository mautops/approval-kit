---
alwaysApply: true
---

# Slidev 书写格式指南

本指南基于 Slidev 官方文档 (https://sli.dev/guide/), 用于指导 Agent 正确编写 Slidev 幻灯片页面.

## 核心概念

### 幻灯片分隔符

使用 `---` (三个连字符, 前后各有一个空行) 来分隔不同的幻灯片:

```markdown
# 第一张幻灯片

内容...

---

# 第二张幻灯片

更多内容...
```

### Frontmatter (前置元数据)

#### Headmatter (全局配置)

文件开头的第一个 frontmatter 块是 headmatter, 用于配置整个演示文稿:

```yaml
---
theme: seriph
title: 演示标题
info: |
  ## 关于本演示
  这是演示的描述信息
class: text-center
transition: slide-left
mdc: true
duration: 35min
---
```

#### 单页 Frontmatter

每个幻灯片可以有自己的 frontmatter 配置:

```yaml
---
layout: center
background: /path/to/image.png
class: text-white
transition: fade-out
---
# 幻灯片标题
```

#### 常用 Frontmatter 配置项

- `theme`: 主题名称 (如 `default`, `seriph`, `apple-basic` 等)
- `title`: 演示标题
- `layout`: 布局类型 (如 `default`, `center`, `two-cols`, `image-right` 等)
- `background`: 背景图片 URL 或路径
- `class`: 应用到幻灯片的 CSS 类名 (支持 UnoCSS)
- `transition`: 幻灯片切换动画 (如 `slide-left`, `fade-out`, `view-transition` 等)
- `mdc`: 是否启用 MDC 语法 (Markdown Components)
- `level`: 标题层级 (用于目录生成)
- `src`: 导入外部 Markdown 文件
- `hide`: 是否在目录中隐藏此幻灯片

## Markdown 基础语法

Slidev 支持标准 Markdown 语法:

```markdown
# 一级标题

## 二级标题

### 三级标题

**粗体文本**
_斜体文本_
~~删除线~~

- 无序列表项 1
- 无序列表项 2

1. 有序列表项 1
2. 有序列表项 2

[链接文本](https://example.com)

![图片描述](/path/to/image.png)
```

## 代码块

### 基础代码块

````markdown
```ts
console.log("Hello, World!");
```
````

````

### 代码高亮行

```markdown
```ts {1|2|3}
const a = 1
const b = 2
const c = 3
````

````

### 代码块属性

```markdown
```ts {1-3|4-6|all} {filename: example.ts} {monaco}
// 代码内容
````

````

常用属性:
- `{1-3|4-6|all}`: 行高亮, 用 `|` 分隔不同步骤
- `{filename: example.ts}`: 显示文件名
- `{monaco}`: 启用 Monaco 编辑器
- `{monaco-run}`: 启用可执行的 Monaco 编辑器
- `{twoslash}`: 启用 TypeScript 类型提示

### 导入外部代码片段

```markdown
<<< @/snippets/external.ts#snippet
````

## 动画系统

### v-click 指令/组件

控制元素在点击后显示/隐藏:

```markdown
<!-- 组件用法 -->

<v-click>点击后显示的内容</v-click>

<!-- 指令用法 -->
<div v-click>点击后显示的内容</div>

<!-- 指定在第几次点击时显示 -->
<div v-click="3">在第 3 次点击时显示</div>

<!-- 相对位置 -->
<div v-click>第 1 次点击显示</div>
<div v-click="'+2'">第 3 次点击显示 (相对前一个 +2)</div>

<!-- 隐藏元素 -->
<div v-click.hide>点击后隐藏</div>
```

### v-after 指令/组件

在前一个 v-click 触发后立即显示:

```markdown
<div v-click>Hello</div>
<div v-after>World</div>  <!-- 与 Hello 同时显示 -->
```

### v-clicks 组件

为子元素自动添加点击动画, 特别适用于列表:

```markdown
<v-clicks>

- 项目 1
- 项目 2
- 项目 3

</v-clicks>
```

属性:

- `depth`: 嵌套深度 (用于嵌套列表)
- `every`: 每次点击显示的项目数量

### v-motion 指令

基于 @vueuse/motion 的动画系统:

```markdown
<div
  v-motion
  :initial="{ x: -80, opacity: 0 }"
  :enter="{ x: 0, opacity: 1 }"
  :leave="{ x: 80, opacity: 0 }"
>
  Slidev
</div>
```

点击触发的动画:

```markdown
<div
  v-motion
  :initial="{ x: -80 }"
  :enter="{ x: 0 }"
  :click-1="{ x: 40 }"
  :click-2="{ x: 80 }"
  :leave="{ x: 1000 }"
>
  Slidev
</div>
```

## 布局系统

### 内置布局

#### center (居中布局)

```yaml
---
layout: center
class: text-center
---
# 居中内容
```

#### two-cols (两列布局)

```markdown
---
layout: two-cols
---

# 左侧内容

左侧显示的内容

::right::

# 右侧内容

右侧显示的内容
```

#### image-right / image-left (图片布局)

```yaml
---
layout: image-right
image: /path/to/image.png
---
# 内容标题

左侧显示的内容, 右侧显示图片
```

#### iframe (嵌入网页)

```yaml
---
layout: iframe
url: https://example.com
---
```

### 自定义布局类

```yaml
---
class: px-20 text-center
---
# 使用 UnoCSS 类名自定义样式
```

## 内置组件

### Arrow (箭头)

```markdown
<Arrow x1="10" y1="20" x2="100" y2="200" color="#953" width="2" />
```

### Link (内部链接)

```markdown
<Link to="42">跳转到第 42 页</Link>
<Link to="solutions" title="跳转到解决方案">
```

### Toc (目录)

```markdown
<Toc minDepth="1" maxDepth="2" />
```

### AutoFitText (自适应文本)

```markdown
<AutoFitText :max="200" :min="100" modelValue="自适应文本" />
```

### LightOrDark (主题切换)

```markdown
<LightOrDark>
  <template #dark>暗色模式内容</template>
  <template #light>亮色模式内容</template>
</LightOrDark>
```

### RenderWhen (条件渲染)

```markdown
<RenderWhen context="presenter">
  仅在演示者视图中显示
</RenderWhen>
```

## 数学公式 (LaTeX)

### 行内公式

```markdown
内联公式: $\sqrt{3x-1}+(1+x)^2$
```

### 块级公式

```markdown
$$
\begin{aligned}
\nabla \cdot \vec{E} &= \frac{\rho}{\varepsilon_0} \\
\nabla \cdot \vec{B} &= 0
\end{aligned}
$$
```

### 分步显示公式

```markdown
$$
{1|3|all}
\begin{aligned}
公式内容
\end{aligned}
$$
```

## 图表

### Mermaid 图表

````markdown
```mermaid {scale: 0.5}
sequenceDiagram
    Alice->John: Hello John
    Note over Alice,John: 交互说明
```
````

````

### PlantUML 图表

```markdown
```plantuml {scale: 0.7}
@startuml
Alice -> Bob: 消息
@enduml
````

````

## MDC 语法 (Markdown Components)

启用 MDC 语法需要在 headmatter 中设置:

```yaml
---
mdc: true
---
````

### 内联样式

```markdown
这是 [红色文本]{style="color:red"}
```

### 图片属性

```markdown
![](/image.png){width=500px lazy}
```

### 块组件

```markdown
::block-component{prop="value"}
默认插槽内容
::
```

## 样式定制

### 作用域样式

在幻灯片末尾添加 `<style>` 标签:

```markdown
---

# 幻灯片内容

<style>
h1 {
  background-color: #2B90B6;
  background-image: linear-gradient(45deg, #4EC5D4 10%, #146b8c 20%);
}
</style>
```

### UnoCSS 类名

Slidev 内置 UnoCSS, 可以直接使用工具类:

```markdown
<div class="p-4 m-2 text-center bg-blue-500 rounded-lg">
  使用 UnoCSS 类名
</div>
```

## 演示者备注

在幻灯片末尾的注释块会被识别为演示者备注:

```markdown
---

# 幻灯片内容

<!--
这是演示者备注
支持 **Markdown** 和 HTML
-->
```

## 导入外部文件

### 导入其他 Markdown 文件

```yaml
---
src: ./pages/imported-slides.md
---
```

### 导入特定幻灯片

```yaml
---
src: ./another-presentation.md#2,5-7
---
```

## Vue 组件

### 使用自定义组件

在 `components/` 目录下的 Vue 组件可以直接使用:

```markdown
<Counter :count="10" />
```

### 内联 Vue 脚本

```markdown
<script setup lang="ts">
const count = ref(0)
const doubled = computed(() => count.value * 2)
</script>

<div>Count: {{ count }}</div>
```

## 全局上下文

在 Markdown 中访问 Slidev 全局上下文:

```markdown
当前页码: {{ $nav.currentPage }}
总页数: {{ $nav.total }}
配置标题: {{ $slidev.configs.title }}
```

## 最佳实践

1. **幻灯片分隔**: 始终使用 `---` 分隔幻灯片, 前后保留空行
2. **Frontmatter 格式**: 使用 YAML 格式, 注意缩进
3. **代码块**: 为代码块指定语言类型以获得语法高亮
4. **动画使用**: 合理使用动画, 避免过度使用影响演示流畅度
5. **布局选择**: 根据内容选择合适的布局类型
6. **响应式设计**: 考虑不同屏幕尺寸的显示效果
7. **性能优化**: 避免在幻灯片中加载过多大型资源

## 常用快捷键

- `Space` / `→`: 下一动画或幻灯片
- `Shift+Space` / `←`: 上一动画或幻灯片
- `↑`: 上一张幻灯片
- `↓`: 下一张幻灯片
- `f`: 全屏模式
- `o`: 概览模式
- `d`: 绘图模式

## 参考资源

- 官方文档: https://sli.dev/guide/
- 语法指南: https://sli.dev/guide/syntax.html
- 动画指南: https://sli.dev/guide/animations.html
- 内置组件: https://sli.dev/builtin/components.html
- 内置布局: https://sli.dev/builtin/layouts.html
- 主题画廊: https://sli.dev/resources/theme-gallery
- 示例展示: https://sli.dev/resources/showcases
